import random
from typing import Dict, List

class UndressGenerator:
    def __init__(self):
        # Типы магии
        self.magic_types = ['Флирт', 'Соблазн', 'Вожделение', 'Искушение']

        # Приставки для одежды
        self.clothing_prefixes = {
            'трусики': ['кружевные', 'шёлковые', 'полупрозрачные'],
            'лифчик': ['кружевной', 'бархатный'],
            'чулки': ['чёрные', 'сетчатые', 'ажурные'],
            'платье': ['шёлковое', 'обтягивающее', 'полупрозрачное', 'соблазнительное', 'короткое'],
            'плащ': ['длинный', 'магический'],
            'пояс': ['магический', 'атласный']
        }

        # 1. Блок: Магические эффекты (50+ вариантов)
        self.spell_effects = {
            'Флирт': [
                "Искры магии Флирта обвивают {clothing}",
                "Лёгкие волны магии ласкают {clothing} чародейки",
                "Туман магии Флирта окутывает {clothing}",
            ],
            'Соблазн': [
                "Волны магии Соблазна окутывают {clothing} девушки",
                "Соблазнительные импульсы магии Соблазна проникают в {clothing}",
                "Горячие вихри магии Соблазна обволакивают {clothing}",
                "Воздух заполняется отзвуками магии Соблазна проникая в {clothing} волшебницы",
                "Магия Соблазна пропитывает {clothing}"
            ],
            'Вожделение': [
                "Заклинание магии Вожделения, словно острыми когтями, впивается в {clothing}",
                "Клубы магии Вожделения окружают {clothing} волшебницы",
                "Властные щупальца магии Вожделения хватают {clothing}",
                "Горячая магия Вожделения обжигает {clothing}",
                "Пульсирующая магическая энергия проникает в {clothing} чародейки"
            ],
            'Искушение': [
                "Нити магии Искушения прошивают {clothing} волшебницы",
                "Заклинание магии Искушения разрушает {clothing}",
                "Магия Искушения пропитывает своим ароматом {clothing}"
            ]
        }

        # 2. Блок: Процесс снятия (100+ вариантов)
        self.undressing_process = {
            'трусики': [
                "они медленно сползают по бёдрам, открывая гладкую кожу лобка",
                "ткань трусиков растворяется, обнажая округлые ягодицы",
                "они превращаются в шелковую пыль, оставляя нижнюю часть тела обнажённой",
                "резинка трусиков разрывается, и они падают на пол",
                "они становятся прозрачными, прежде чем исчезнуть совсем",
                "они тают, как лёд на солнце, открывая интимные прелести",
                "трусики разрываются по швам под действием магии",
                "завязки трусиков развязываются сами собой, отпуская последнюю защиту",
                "они скользят вниз, дразня влажную кожу",
                "ткань трусиков липнет к телу, прежде чем раствориться",
                "они рвутся с тихим треском, обнажая зовущие изгибы",
                "кружево трусиков расползается, открывая манящую плоть",
                "они спадают, лаская бёдра жарким касанием",
                "трусики медленно тают, обнажая пульсирующую кожу",
                "они разлетаются в пыль, оставляя аромат страсти",
                "ткань трусиков прилипает к влажным изгибам, затем исчезает"
                "они влажно прилипают к коже, прежде чем сорваться вниз",
                "кружево трусиков пропитывается влагой, обнажая манящую щель",
                "они сползают, обнажая розовый бутон, уже набухший от возбуждения",
                "ткань становится прозрачной, демонстрируя аккуратный холмик",
                "они разрываются с тихим хлопком, открывая блестящую от соков плоть",
                "резинка соскальзывает, обнажая тугой капюшончик",
                "они медленно намокают, прежде чем исчезнуть совсем",
                "кружевные края приоткрывают пухлые губки, дрожащие от возбуждения",
                "они рвутся, обнажая аккуратную щёлочку, уже приоткрытую желанием",
                "ткань прилипает к возбуждённой плоти, подчёркивая каждую складку",
                "они спадают, открывая блестящую от выделений щёлочку",
                "кружево растягивается, обнажая тугой бутон, жаждущий прикосновений",
                "они становятся мокрыми на глазах, прежде чем раствориться",
                "резинка соскальзывает, открывая тугой розовый бутончик",
                "ткань прозрачнеет, демонстрируя аккуратную щёлочку с капельками сока",
                "они рвутся по швам, обнажая пухлые губки, уже приоткрытые желанием"
            ],
            'лифчик': [
                "он расстёгивается сам по себе, освобождая пышную грудь",
                "чары разъедают его, открывая взору твёрдые соски",
                "он исчезает, будто его никогда не было, демонстрируя округлые груди",
                "бретельки лифчика соскальзывают с плеч, освобождая грудь",
                "он вспыхивает и сгорает в мгновение ока",
                "крючки лифчика расстёгиваются один за другим, медленно открывая сокровища",
                "он становится мокрым и спадает с тела",
                "ткань лифчика рвётся, обнажая трепещущую грудь",
                "он растворяется, оставляя кожу в жарком ожидании",
                "бретельки лифчика лопаются, выпуская упругие формы",
                "он тает, лаская соски лёгким касанием",
                "лифчик сползает, дразня чувствительную кожу",
                "он разрывается с тихим стоном ткани",
                "шёлк лифчика скользит по коже, прежде чем исчезнуть",
                "он распадается, открывая зовущие изгибы декольте",
                "лифчик вспыхивает алым пламенем, обнажая грудь",
                "он намокает от сосков, прежде чем сорваться с груди",
                "кружево растягивается, обнажая твёрдые, как ягоды, соски",
                "он сползает, открывая розовые ареолы, уже набухшие от возбуждения",
                "ткань становится прозрачной, демонстрируя каждую прожилку на груди",
                "он разрывается, обнажая соски, покрытые капельками влаги",
                "бюстгальтер соскальзывает, открывая дрожащие от желания груди",
                "он медленно намокает в районе сосков, прежде чем исчезнуть",
                "кружевные чашечки приоткрывают твёрдые, как камешки, соски",
                "он рвётся, демонстрируя розовые ареолы, уже напряжённые от страсти",
                "ткань прилипает к соскам, подчёркивая их твёрдость",
                "он спадает, открывая грудь, покрытую испариной желания",
                "кружево растягивается, обнажая каждый сантиметр чувствительной кожи",
                "он становится мокрым на глазах, прежде чем раствориться",
                "бретельки соскальзывают, открывая соски, уже покрытые капельками сока",
                "ткань прозрачнеет, демонстрируя, как соски твердеют на глазах",
                "он рвётся по швам, обнажая грудь, уже дрожащую от возбуждения"
            ],
            'чулки': [
                "они рвутся на ленты, обнажая гладкие бёдра",
                "швы чулок расходятся сами собой, открывая соблазнительные ноги",
                "чулки тают, как лёд на солнце, оставляя ноги обнажёнными",
                "подвязки чулок развязываются, и они сползают вниз",
                "они становятся прозрачными, подчёркивая каждую линию ног",
                "ткань чулок рассыпается на тысячи блёсток",
                "чулки медленно сползают, будто их стягивают невидимые руки",
                "резинка чулок лопается, и они падают к её ногам",
                "они растворяются, лаская бёдра жарким касанием",
                "чулки рвутся с треском, обнажая манящую кожу",
                "они скользят вниз, дразня чувствительные ноги",
                "ткань чулок тает, оставляя аромат вожделения",
                "чулки расползаются, подчёркивая изгибы бёдер",
                "они спадают, будто подчиняясь страстному зову",
                "шёлк чулок лопается, обнажая трепещущую кожу",
                "они растворяются в алом тумане, открывая ноги",
                "они медленно сползают, обнажая влажную кожу внутренней поверхности бёдер",
                "сетка чулок растягивается, демонстрируя розовый блеск интимной зоны",
                "они рвутся, открывая гладкую кожу, уже покрытую испариной желания",
                "резинка соскальзывает, обнажая дрожащие от возбуждения бёдра",
                "они становятся прозрачными, демонстрируя каждую венку на ногах",
                "чулки медленно намокают в районе подвязок, прежде чем исчезнуть",
                "кружевные подвязки развязываются, открывая влажную кожу промежности",
                "они рвутся с тихим треском, обнажая дрожащие от желания ноги",
                "ткань прилипает к коже, подчёркивая каждый изгиб бёдер",
                "они спадают, открывая гладкую кожу, уже покрывшуюся мурашками",
                "сетка растягивается, демонстрируя розовый отблеск между ног",
                "они становятся мокрыми на глазах, прежде чем раствориться",
                "резинка соскальзывает, открывая дрожащую от возбуждения кожу",
                "ткань прозрачнеет, демонстрируя влажное сияние интимной зоны",
                "они рвутся по швам, обнажая бёдра, уже дрожащие от предвкушения",
                "чулки медленно тают, оставляя после себя лишь аромат возбуждения"
            ],
            'платье': [
                "оно спадает, скользя по телу в соблазнительном танце",
                "ткань платья становится прозрачной, прежде чем исчезнуть совсем",
                "оно разрывается пополам, обнажая скрытые под ним сокровища",
                "молния платья расстёгивается сама собой, открывая великолепное тело девушки",
                "оно вспыхивает и исчезает в мгновение ока",
                "платье медленно поднимается вверх, обнажая тело снизу вверх",
                "оно рвётся по швам, обнажая влажную кожу",
                "ткань платья тает, лаская каждый изгиб тела",
                "оно сползает, дразня трепещущую плоть",
                "платье растворяется, оставляя аромат страсти",
                "оно лопается, открывая зовущие формы",
                "ткань платья скользит, подчёркивая манящие изгибы",
                "оно разрывается с тихим стоном, обнажая тело",
                "платье растворяется в алом сиянии, открывая прелести",
                "оно спадает, будто подчиняясь жаркому желанию",
                "ткань платья рвётся, лаская кожу страстным касанием",
                "оно медленно намокает между ног, прежде чем упасть на пол",
                "ткань становится прозрачной, демонстрируя каждую капельку влаги на коже",
                "оно сползает, открывая дрожащее от возбуждения тело",
                "молния расстёгивается, обнажая влажное сияние интимной зоны",
                "оно рвётся, демонстрируя набухшие от желания прелести",
                "платье соскальзывает, открывая кожу, уже покрытую испариной страсти",
                "оно медленно пропитывается влагой, прежде чем исчезнуть",
                "вырез растягивается, обнажая грудь, уже дрожащую от возбуждения",
                "оно рвётся по швам, открывая блестящую от соков плоть",
                "ткань прилипает к телу, подчёркивая каждую извилину",
                "оно спадает, открывая влажное сияние между ног",
                "подол задирается, демонстрируя розовый блеск интимной зоны",
                "оно становится мокрым на глазах, прежде чем раствориться",
                "застёжки расстёгиваются, открывая дрожащее от желания тело",
                "ткань прозрачнеет, демонстрируя, как соски твердеют на глазах",
                "оно рвётся, обнажая тело, уже покрытое капельками похоти"
            ],
            'плащ': ["он развязывается и падает на пол с мягким стуком",],
            'пояс': [
                "он развязывается и падает на пол с мягким стуком",
                "пряжка пояса раскрывается сама собой, освобождая талию",
                "пояс растворяется в воздухе, оставляя после себя лишь аромат",
                "пояс вспыхивает и исчезает в искрах магии",
                "застёжки пояса расстёгиваются, и он спадает с тела",
                "он медленно скользит вниз, обнажая кожу",
                "он рвётся пополам под действием магии",
                "пояс превращается в пыль, оседая на полу",
                "он растворяется, лаская талию жарким касанием",
                "пряжка пояса лопается, и он падает, дразня кожу",
                "он тает, скользя по манящим изгибам",
                "пояс рвётся, обнажая трепещущую талию",
                "он сползает, подчёркивая зовущие формы",
                "ткань пояса распадается, оставляя аромат вожделения",
                "он исчезает в алом тумане, открывая талию",
                "пояс лопается, лаская кожу страстным касанием",
                "он медленно соскальзывает, обнажая влажную кожу живота",
                "пряжка разбалтывается, открывая дрожащий от возбуждения живот",
                "он становится мокрым от испарины, прежде чем упасть",
                "кожаный пояс растягивается, демонстрируя пульсирующий живот",
                "он рвётся, открывая влажное сияние ниже пупка",
                "пояс соскальзывает, обнажая дрожащую от желания кожу",
                "он медленно намокает, прежде чем исчезнуть",
                "застёжки расстёгиваются, открывая розовый отблеск ниже живота",
                "он рвётся с тихим стоном, обнажая пульсирующую плоть",
                "ткань прилипает к коже, подчёркивая каждый мускул",
                "он спадает, открывая влажное сияние интимной зоны",
                "пряжка разбалтывается, демонстрируя дрожащий от возбуждения живот",
                "он становится мокрым на глазах, прежде чем раствориться",
                "застёжки расстёгиваются, открывая кожу, уже покрытую мурашками",
                "ткань прозрачнеет, демонстрируя пульсацию внизу живота",
                "он рвётся по швам, обнажая тело, уже дрожащее от похоти"
            ]
        }

        # 3. Блок: Реакции персонажа (150+ вариантов)
        self.persona_reactions = {
            'застенчивая': [
                "<b>{Name}</b> смущённо прикрывает {body_part} рукой, но уже поздно. {She} чувствует, как жар разливается по её телу.",
                "Её губы дрожат, а глаза наполняются влагой. <b>{Name}</b> пытается что-то сказать, но издаёт только сдавленный стон.",
                "<b>{Name}</b> краснеет до кончиков ушей, её пальцы нервно теребят край оставшейся одежды.",
                "<b>{Name}</b> опускает глаза, но ты видишь, как её грудь тяжело вздымается.",
                "<b>{Name}</b> пытается скрестить руки на груди, но её дрожащие пальцы не слушаются.",
                "Глаза широко раскрываются, когда она осознаёт степень своей обнажённости.",
                "<b>{Name}</b> прикусывает губу, её тело слегка дрожит от смущения.",
                "{She} делает неуверенную попытку прикрыться, но её движения слишком медлительны.",
                "<b>{Name}</b> отворачивается, но ты видишь, как её спина покрывается мурашками.",
                "{She} сжимает кулачки, её ноги непроизвольно смыкаются.",
                "<b>{Name}</b> закрывает лицо руками, но между пальцами проглядывает любопытный взгляд.",
                "{She} делает шаг назад, её кожа приобретает розовый оттенок.",
                "<b>{Name}</b> обнимает себя за плечи, будто пытаясь спрятаться.",
                "{She} опускает голову, но ты видишь, как её соски набухают от возбуждения.",
                "<b>{Name}</b> прикрывает рот ладонью, её глаза блестят от смеси стыда и возбуждения."
            ],
            'дерзкая': [
                "<b>{Name}</b> вызывающе подбоченивается, демонстрируя {body_part}.",
                "<b>{Name}</b> насмешливо приподнимает бровь, оценивая твою реакцию.",
                "<b>{Name}</b> презрительно фыркает, но ты замечаешь, как дрожит её голос.",
                "<b>{Name}</b> поворачивается, демонстрируя себя с нового ракурса.",
                "<b>{Name}</b> дразняще кусает губу, наблюдая за твоим взглядом.",
                "<b>{Name}</b> проводит руками по своему телу, подчёркивая каждую изгиб.",
                "{She} закидывает голову назад и смеётся, демонстрируя горло.",
                "<b>{Name}</b> ставит руки на бёдра, выставляя себя напоказ.",
                "{She} медленно проводит языком по губам, следя за твоей реакцией.",
                "<b>{Name}</b> наклоняется вперёд, давая тебе лучший обзор.",
                "{She} играет с оставшейся одеждой, намеренно затягивая процесс.",
                "<b>{Name}</b> поводит плечами, заставляя грудь покачиваться.",
                "{She} подмигивает тебе, её пальцы скользят по собственному телу.",
                "<b>{Name}</b> выгибает спину, подчёркивая свои формы.",
                "{She} делает пируэт, демонстрируя себя со всех сторон.",
                "<b>{Name}</b> прижимает руки к груди, но только чтобы сильнее подчеркнуть её."
            ],
            'доминирующая': [
                "<b>{Name}</b> властно выгибает спину, демонстрируя свою власть над ситуацией.",
                "<b>{name}</b> проводит рукой по своему телу, словно проверяя твою реакцию.",
                "{She} смеётся, демонстративно поворачиваясь перед тобой.",
                "<b>{Name}</b> хватает тебя за подбородок, заставляя смотреть на себя.",
                "{She} прижимает тебя к стене, её обнажённое тело давит на тебя.",
                "<b>{Name}</b> проводит ногтями по своей коже, оставляя розовые следы.",
                "{She} закидывает ногу на спинку стула, открывая себя полностью.",
                "<b>{Name}</b> сжимает твои запястья, контролируя каждый твой взгляд.",
                "{She} садится на край стола, широко раздвигая бёдра.",
                "<b>{Name}</b> наклоняется к твоему уху, её горячее дыхание обжигает кожу.",
                "{She} приказывающе щёлкает пальцами, требуя твоего внимания.",
                "<b>{Name}</b> заставляет тебя встать на колени перед своей наготой.",
                "{She} берёт твою руку и прижимает к своему телу.",
                "<b>{Name}</b> доминирующе стоит над тобой, её тень покрывает тебя.",
                "{She} приподнимает твой подбородок пальцем, заставляя смотреть вверх.",
                "<b>{Name}</b> обвивает ноги вокруг твоей талии, не оставляя выбора."
            ],
            'невинная': [
                "<b>{Name}</b> широко раскрывает глаза, поражённая происходящим.",
                "<b>{Name}</b> трогает обнажённую кожу, будто впервые видит собственное тело.",
                "{She} смотрит на тебя с наивным удивлением, её губы слегка приоткрыты.",
                "<b>{Name}</b> закрывает рот рукой, её щёки горят румянцем.",
                "{She} трогает свои соски, удивлённая их твёрдостью.",
                "<b>{Name}</b> смотрит вниз на своё тело с детским любопытством.",
                "{She} проводит пальцами по коже, удивляясь новым ощущениям.",
                "<b>{Name}</b> прикрывает грудь, но тут же убирает руки, заинтригованная.",
                "{She} наклоняет голову, изучая твою реакцию на свою наготу.",
                "<b>{Name}</b> пробует прикрыться, но её движения неуверенны и робки.",
                "{She} касается своих губ, будто проверяя, не сон ли это.",
                "<b>{Name}</b> сжимает кулачки у груди, её глаза блестят от возбуждения.",
                "{She} делает робкий шаг вперёд, её тело дрожит от новых ощущений.",
                "<b>{Name}</b> проводит рукой по животу, удивляясь своему возбуждению.",
                "{She} прикусывает губу, её невинный взгляд контрастирует с позой.",
                "<b>{Name}</b> трогает между ног, удивляясь влажности там."
            ],
            'кокетливая': [
                "<b>{Name}</b> игриво прикрывает {body_part}, но тут же открывает снова.",
                "<b>{Name}</b> медленно поворачивается, демонстрируя себя со всех сторон.",
                "{She} проводит руками по своему телу, подчёркивая каждую изгиб.",
                "<b>{Name}</b> дразняще подмигивает, её пальцы скользят по коже.",
                "{She} пританцовывает перед тобой, её грудь соблазнительно покачивается.",
                "<b>{Name}</b> закидывает волосы назад, демонстрируя шею.",
                "{She} прикусывает нижнюю губу, её глаза блестят от озорства.",
                "<b>{Name}</b> проводит языком по соску, наблюдая за твоей реакцией.",
                "{She} наклоняется вперёд, давая тебе заглянуть в декольте.",
                "<b>{Name}</b> играет с оставшейся одеждой, дразня тебя.",
                "{She} медленно скользит руками по бёдрам, подчёркивая формы.",
                "<b>{Name}</b> делает вид, что хочет прикрыться, но только привлекает внимание.",
                "{She} крутится перед тобой, её волосы развеваются.",
                "<b>{Name}</b> прижимает руки к груди, но только чтобы сильнее её подчеркнуть.",
                "{She} дразняще отворачивается, но через плечо бросает взгляд.",
                "<b>{Name}</b> проводит ногтями по своему телу, оставляя розовые следы."
            ],
            'таинственная': [
                "<b>{Name}</b> загадочно улыбается, её глаза мерцают неземным светом.",
                "{She} проводит рукой по воздуху, оставляя магический след вокруг обнажённых участков.",
                "<b>{Name}</b> растворяется в тумане, оставляя лишь намёк на свою наготу.",
                "{She} шепчет заклинание, и её тело мерцает, как мираж.",
                "<b>{Name}</b> касается своего отражения в зеркале, которое ведёт себя иначе.",
                "{She} исчезает и появляется в новом месте, демонстрируя себя с другого ракурса.",
                "<b>{Name}</b> смеётся, и её смех разносится эхом по комнате.",
                "{She} проводит пальцами по своей коже, оставляя светящиеся следы.",
                "<b>{Name}</b> парит в воздухе, её волосы развеваются невидимым ветром.",
                "{She} раздевается перед тобой, но ты не уверен, реально ли это.",
                "<b>{Name}</b> превращается в дымку, сквозь которую видны её формы.",
                "{She} оставляет после себя лишь аромат жасмина и намёк на прикосновение.",
                "<b>{Name}</b> говорит голосом, который звучит у тебя в голове.",
                "{She} касается твоего лба, и ты видишь её наготу в своём воображении.",
                "<b>{Name}</b> танцует, и с каждым движением её формы меняются.",
                "{She} целует воздух, и ты чувствуешь прикосновение на своей коже."
            ],
            'страстная': [
                "<b>{Name}</b> стонет и выгибается, её кожа покрывается румянцем.",
                "Тело дрожит от предвкушения, её глаза темнеют от желания.",
                "{She} страстно кусает губу, её глаза горят одержимостью.",
                "<b>{Name}</b> прижимает руки к груди, её соски твёрдые от возбуждения.",
                "{She} проводит руками по своему телу, её ноги непроизвольно раздвигаются.",
                "<b>{Name}</b> хватает тебя за руку и прижимает к своей горячей коже.",
                "{She} тяжело дышит, её грудь быстро вздымается.",
                "<b>{Name}</b> прижимает бёдра к краю стола, её глаза полны желания.",
                "{She} облизывает губы, её пальцы впиваются в свою плоть.",
                "<b>{Name}</b> откидывает голову назад, её шея покрывается капельками пота.",
                "{She} сжимает простыни в кулаках, её тело выгибается от наслаждения.",
                "<b>{Name}</b> проводит языком по соскам, её глаза закрываются от удовольствия.",
                "{She} хватает себя за грудь, её ногти оставляют следы на коже.",
                "<b>{Name}</b> раздвигает ноги шире, демонстрируя свою готовность.",
                "{She} стонет твоё имя, её голос дрожит от страсти.",
                "<b>{Name}</b> прижимает твою ладонь к своей влажной промежности."
            ],
            'мечтательная': [
                "<b>{Name}</b> протягивает руку к исчезающей ткани, её глаза полны грусти.",
                "Кажется, <b>{Name}</b> совсем не смущена — она смотрит на происходящее с тихим восхищением.",
                "{She} кружится, наслаждаясь ощущением свободы, её волосы развеваются.",
                "<b>{Name}</b> трогает свою кожу, будто проверяя, не сон ли это.",
                "{She} смотрит вдаль, её губы шепчут что-то неслышное.",
                "<b>{Name}</b> проводит пальцами по воздуху, рисуя невидимые узоры.",
                "{She} улыбается самой себе, её мысли далеко.",
                "<b>{Name}</b> касается своих губ, её глаза наполняются мечтательным блеском.",
                "{She} поднимает руки к небу, её тело вытягивается в изящной позе.",
                "<b>{Name}</b> закрывает глаза, её грудь медленно поднимается и опускается.",
                "{She} напевает тихую мелодию, её пальцы двигаются в такт.",
                "<b>{Name}</b> смотрит на своё отражение в луже, её образ искажается.",
                "{She} собирает исчезающую ткань, будто хочет сохранить воспоминание.",
                "<b>{Name}</b> проводит рукой по своему телу, её прикосновение нежное.",
                "{She} подбрасывает в воздух последний кусочек одежды и смотрит, как он падает.",
                "<b>{Name}</b> ложится на пол, её волосы растекаются вокруг, как вода."
            ],
            'грациозная': [
                "<b>{Name}</b> совершает изящный жест, будто дарует тебе честь лицезреть свою наготу.",
                "С невозмутимым видом королевы <b>{Name}</b> демонстрирует своё тело, как произведение искусства.",
                "{She} откидывает голову назад, демонстрируя изящную линию шеи.",
                "Как балерина, <b>{Name}</b> поворачивается, демонстрируя свою красоту со всех сторон.",
                "<b>{Name}</b> делает реверанс, её спина образует идеальную дугу.",
                "{She} поднимает руки в изящном жесте, её тело вытягивается.",
                "<b>{Name}</b> проводит ладонью по своему телу, её движения точны и выверены.",
                "{She} делает несколько шагов, её походка завораживает.",
                "<b>{Name}</b> прикрывает грудь рукой, но этот жест скорее подчёркивает, чем скрывает.",
                "{She} отбрасывает волосы назад, её шея выглядит особенно длинной.",
                "<b>{Name}</b> скрещивает ноги, её поза выглядит одновременно скромной и соблазнительной.",
                "{She} подносит руку к губам, её пальцы изящно изогнуты.",
                "<b>{Name}</b> медленно опускается на колени, её спина остаётся прямой.",
                "{She} проводит пальцем по своему телу, как художник по холсту.",
                "<b>{Name}</b> делает пируэт, её формы мелькают перед твоими глазами."
            ]
        }

        # Части тела для реакций
        self.body_parts = {
            'трусики': [
                "лобок", "попку", "бёдра", "интимные места", "сочные губки",
                "влажную щёлочку", "пухлые губки", "аккуратный холмик",
                "нежную складочку", "розовый бутон", "блестящие от возбуждения половые губы",
                "набухшие половые губки", "дрожащую от желания 'киску'", "трепещущий бутон",
            ],
            'лифчик': [
                "грудь", "соски", "декольте", "пышные формы",
                "набухшие сосочки", "твёрдые как ягоды соски", "розовые ареолы",
                "дрожащие груди", "чувствительные холмики", "покрытые капельками влаги соски",
                "напряжённые от возбуждения груди", "нежную кожу декольте",
                "соблазнительную ложбинку между грудей",
                "покрытые мурашками груди", "пышно поднимающиеся формы",
                "дрожащие от страсти груди", "налитые соком груди"
            ],
            'чулки': [
                "ножки", "бёдра", "гладкую кожу",
                "внутреннюю поверхность бёдер", "дрожащие колени",
                "дрожащие от возбуждения ноги", "покрытые мурашками бёдра",
                "соблазнительные ноги", "дрожащие бёдра",
            ],
            'платье': [
                "все прелести", "сокровенное", "тело", "изгибы",
                "гибкую талию", "соблазнительные изгибы спины", "нежную шейку",
                "дрожащие плечи", "соблазнительную ложбинку на спине",
                "трепещущий живот", "дрожащие бёдра", "соблазнительный изгиб ягодиц",
            ],
            'плащ': ["платье", "талию",],
            'пояс': ["талию", "изгиб бедер", "линию живота"]
        }

        # Связки между предложениями
        self.connectors = [
            ", и в тот же миг ",
            ". Внезапно ",
            ". В следующее мгновение ",
            ", после чего ",
            ", и тут же ",
            ". Почти сразу ",
            ", как вдруг ",
            ", и в мгновение ока "
        ]

        # Финальные фразы
        self.final_phrases = [
            "Воздух наполняется густым ароматом возбуждения.",
            "Ты чувствуешь, как возбуждаешься.",
            "Становится заметно теплее.",
            "От этого зрелища перехватывает дыхание.",
            "Ты слышишь её учащённое дыхание.",
            "Её кожа покрывается мурашками.",
            "Ты видишь, как её зрачки расширяются.",
            "В воздухе витает напряжение.",
            "Её тело дрожит от страстного ожидания.",
            "Ты ощущаешь жар её кожи.",
            "Её губы приоткрываются в немом желании.",
            "Аромат её страсти наполняет пространство.",
            "Ты слышишь тихий стон, вырывающийся из её груди.",
            "Её глаза горят неудержимым вожделением.",
            "Воздух искрится от её чувственного трепета.",
            "Ты чувствуешь, как её тепло манит ближе.",
            "Её дыхание становится жарким и прерывистым.",
            "Ты видишь, как её грудь вздымается от страсти.",
            "Пряный аромат её желания кружит голову.",
            "Её кожа блестит от лёгкой испарины.",
            "Ты слышишь её шёпот, полный вожделения.",
            "Её тело изгибается, маня прикоснуться.",
            "Воздух дрожит от её страстного импульса.",
            "Ты ощущаешь, как её пульс учащается.",
            "Её взгляд пылает, зовя к запретному.",
            "Ты чувствуешь её тепло, ласкающее кожу.",
            "Её стоны наполняют воздух сладким напряжением.",
            "Её бёдра слегка дрожат от предвкушения.",
            "Ты видишь, как её губы дрожат от желания.",
            "Воздух пропитывается её манящим ароматом.",
            "Её движения становятся медленными и соблазнительными.",
            "Ты слышишь её тихий вздох, полный страсти.",
            "Её кожа пылает под твоим взглядом.",
            "Ты ощущаешь её трепет, влекущий ближе.",
            "Её глаза манят, обещая наслаждение.",
            "Воздух густеет от её чувственного присутствия.",
            "Ты видишь, как её тело отвечает на магию.",
            "Её шёпот ласкает, словно горячий бриз.",
            "Ты чувствуешь, как её страсть заполняет всё вокруг.",
            "Её кожа манит, словно зовёт к касанию."
        ]

    def generate_player_undress(self, mob_data: Dict) -> str:
        """Генерация описания снятия одежды с игрока волшебницей"""
        phrases = [
            # Варианты с именем
            f"<b>{mob_data['name']}</b> проводит рукой по твоей одежде, и очередной предмет гардероба исчезает в клубах магии.",
            f"<b>{mob_data['name']}</b> шепчет заклинание, и твоя одежда начинает растворяться под её магическим взглядом.",
            f"<b>{mob_data['name']}</b> дразняще улыбается, когда ещё один элемент твоего наряда бесследно исчезает.",
            f"С лёгким движением руки <b>{mob_data['name']}</b> лишает тебя очередной части одежды.",
            f"<b>{mob_data['name']}</b> заставляет твою одежду таять, будто она сделана из утреннего тумана.",
            f"<b>{mob_data['name']}</b> проводит пальцами по воздуху, и твоя одежда начинает исчезать.",
            f"<b>{mob_data['name']}</b> смеётся, наблюдая, как исчезает очередной предмет твоего гардероба.",
            "Ты чувствуешь, как магия окутывает твоё тело, заставляя одежду исчезать.",
            "Очередной предмет твоей одежды бесследно растворяется под действием её чар.",
            "Твоя одежда не может противостоять её магии и начинает исчезать.",
            "Под действием её чар твоя одежда тает, как лёд на солнце.",
            "Ты ощущаешь лёгкое покалывание, когда магия снимает с тебя очередной слой одежды.",
            "Её магия проникает в ткань, заставляя её распадаться на молекулы.",
            "Ты чувствуешь, как твоя одежда становится легче - очередной предмет исчез.",
            "Волны магии ласкают твоё тело, снимая с тебя защитные слои ткани.",
            "Ты замечаешь, что стал легче - её чары продолжают свою работу.",
            "Очередной щит цивилизации пал под натиском её магии.",
            "Твоя одежда не может сопротивляться и покидает тебя.",
            "Магические искры сжигают очередной предмет твоего гардероба.",
            "Ты чувствуешь прохладу на коже - ещё один элемент одежды исчез.",
            "Её магия методично лишает тебя одежды, предмет за предметом.",
            "Ты ощущаешь, как твоя защита становится всё тоньше с каждым мгновением.",
            "Очередной слой ткани исчезает, не оставляя после себя и следа.",
            "Ты понимаешь, что стал на шаг ближе к полной беззащитности.",
            "Её чары неумолимо разрушают твою одежду, слой за слоем.",
            "Ты чувствуешь, как магия проникает сквозь ткань, уничтожая её.",
            "Очередной предмет твоего гардероба превращается в пыль.",
            "Ты замечаешь, что твоя одежда становится всё более невесомой.",
            "Её магия оставляет тебя всё более уязвимым с каждой секундой.",
            "Ты ощущаешь, как твоя одежда теряет форму и исчезает.",
            "Очередной барьер между вами пал под действием её чар.",
            "Ты чувствуешь, как магия обнажает тебя, снимая слой за слоем.",
            "Твоя одежда не может противостоять её силе и исчезает.",
            "Очередной щит приличия растворяется в воздухе.",
            "Ты замечаешь, что твой наряд становится всё более откровенным.",
            "Её магия методично лишает тебя последних признаков скромности.",
            "Ты чувствуешь, как твоя одежда становится всё более невесомой.",
            "Очередной предмет гардероба исчезает без следа."
        ]

        # Собираем 3-4 предложения
        sentence1 = random.choice(phrases[:8])  # Первое предложение всегда с именем/титулом
        sentence2 = random.choice(phrases[8:])
        return f"{sentence1} {sentence2}"

    def _get_clothing_name(self, clothing_type: str) -> str:
        """Генерирует название одежды с приставкой"""
        prefixes = self.clothing_prefixes.get(clothing_type, [''])
        return f"{random.choice(prefixes)} {clothing_type}".strip()

    def generate(self, mob_data: Dict, mob_outfit_left) -> str:
        mob_outfit_left = str(mob_outfit_left + 1)
        # 'Девушка полностью обнажена и готова сделать что угодно ради возврата своих магических сил.'
        # Генерируем полное название одежды
        clothing_type = mob_data['outfit'][mob_outfit_left]
        clothing_item = self._get_clothing_name(clothing_type)
        magic_type = mob_data.get('magic_type', 'Флирт')

        # Получаем формы слова
        clothing_nom = clothing_item
        clothing_acc = clothing_item
        if clothing_type.endswith('ки'):
            clothing_acc = clothing_item.replace('ки', 'ки')  # "кружевные трусики"
        elif clothing_type.endswith('чок'):
            clothing_acc = clothing_item.replace('чок', 'чком')  # "кружевным лифчиком"
        # 1. Магический эффект
        spell_text = random.choice(self.spell_effects[magic_type]).format(
            clothing=clothing_acc
        )
        # 2. Процесс снятия
        undress_text = random.choice(self.undressing_process[clothing_type]).format(
            clothing=clothing_nom,
            Clothing=clothing_nom.capitalize()
        )
        # 3. Реакция персонажа
        body_part = random.choice(self.body_parts[clothing_type])
        persona = mob_data['persona']
        reaction_text = random.choice(self.persona_reactions[persona]).format(
            name=mob_data['name'],
            Name=mob_data['name'].capitalize(),
            she="она",
            She="Она",
            body_part=body_part
        )
        # Собираем всё вместе
        connector = random.choice(self.connectors)
        final_phrase = random.choice(self.final_phrases)

        full_text = f"{spell_text}{connector}{undress_text}. {reaction_text} {final_phrase}"

        return full_text
